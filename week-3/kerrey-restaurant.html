<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<!--
============================================
; Title: Assignment 3.2 - Restaurant App
; File Name: restaurant.html
; Author: Professor Krasso
; Date: 23 January 2022
; Modified By: Seth Kerrey
; Description: 
;   An exercise to learn inheritance, forEach(), and HTML checkboxes.
; Resources:
;   The classes, id's & JavaScript were provided by Prof Krasso and Bellevue University including:
;       CSS style guide
;       "Web 330 HTML, CSS, and JavaScript Requirements"
;       "Web 330 Assign_3.pdf"
;       Import classes code
;       Const div / checkbox code
;       for...of loop over variables code
;   Google Fonts Oswald 
;       https://fonts.google.com/specimen/Oswald
;   Font Awesome CDN
;      https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css 
===========================================
-->         
        <!-- Title of HTML file -->
        <title>WEB 330 â€“ Enterprise JavaScript II</title>
        
        <!-- Links -->
        <link rel="stylesheet" href="../theme.css">
        <link rel="stylesheet" href="../site.css">
        <script src="../theme.js" async></script>

        <!-- Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@300;400;500;700&display=swap" rel="stylesheet">

        <!-- CDN font-awesome -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    </head>

    <!-- Body with light theme default -->
    <body class="light-theme">

        <div class="assign-container">

            <h1 class="app-header">Welcome to the Restaurant App!</h1>

            <!-- Card container for user input -->
            <div class="assign-content">
                <div class="card">
                    <div class="card-title">Restaurant Menu</div>
                    <div class="card-content">

                        <!-- Beverages card -->
                        <div class="assign-container">
                            <div class="assign-content">
                                <div class="card">
                                    <div class="card-title">Beverages</div>
                                    <div class="card-content" id="beverages">
                                        
                                        <input type="checkbox" id="soda" value="3.30" name="checkSoda">
                                        <label for="soda">Soda ($3.30)</label><br>
        
                                        <input type="checkbox" id="sweet-tea" value="3.30" name="checkSweatTea">
                                        <label for="sweet-tea">Sweet Tea ($3.30)</label><br>
        
                                        <input type="checkbox" id="iced-coffee" value="2.49" name="checkIcedCoffee">
                                        <label for="iced-coffee">Iced Coffee ($2.49)</label><br>
        
                                        <input type="checkbox" id="bottled-water" value="2.15" name="checkBottledWater">
                                        <label for="bottled-water">Bottled Water ($2.15)</label><br>
        
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Appetizer card -->
                        <div class="assign-container">
                            <div class="assign-content">
                                <div class="card">
                                    <div class="card-title">Appetizers</div>
                                    <div class="card-content" id="appetizers">
                                        
                                        <input type="checkbox" id="nachos" value="6.60" name="checkNachos">
                                        <label for="nachos">Nachos ($6.60)</label><br>
        
                                        <input type="checkbox" id="chips-n-salsa" value="5.50" name="checkChipsNSalsa">
                                        <label for="chips-n-salsa">Chips and Salsa ($5.50)</label><br>
        
                                        <input type="checkbox" id="pretzel-w-cheese" value="8.80" name="checkPretzelWCheese">
                                        <label for="pretzel-w-cheese">Pretzel with Cheese ($8.80)</label><br>
        
                                        <input type="checkbox" id="fried-pickles" value="8.25" name="checkFriedPickles">
                                        <label for="fried-pickles">Fried Pickles ($8.25)</label><br>
        
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Main Courses card -->
                        <div class="assign-container">
                            <div class="assign-content">
                                <div class="card">
                                    <div class="card-title">Main Course</div>
                                    <div class="card-content" id="main-course">
                                        
                                        <input type="checkbox" id="street-tacos" value="9.70" name="checkStreetTacos">
                                        <label for="street-tacos">Street Tacos ($9.70)</label><br>
        
                                        <input type="checkbox" id="boneless-wings" value="12.80" name="checkBonelessWings">
                                        <label for="boneless-wings">Boneless Wings ($12.80)</label><br>
        
                                        <input type="checkbox" id="cheesebuger-w-fries" value="12.65" name="checkCheeseburgerWFries">
                                        <label for="cheesebuger-w-fries">Cheeseburger with Fries ($12.65)</label><br>
        
                                        <input type="checkbox" id="chicken-wrap-w-salad" value="9.65" name="checkChickenWrapWSalad">
                                        <label for="chicken-wrap-w-salad">Chicken Wrap with Salad ($9.65)</label><br>
        
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Desserts card -->
                        <div class="assign-container">
                            <div class="assign-content">
                                <div class="card">
                                    <div class="card-title">Desserts</div>
                                    <div class="card-content" id="desserts">
                                        
                                        <input type="checkbox" id="ice-cream" value="4.30" name="checkIceCream">
                                        <label for="ice-cream">Ice Cream ($4.30)</label><br>
        
                                        <input type="checkbox" id="chocolate-cake" value="5.40" name="checkChocolateCake">
                                        <label for="chocolate-cake">Chocolate Cake ($5.40)</label><br>
        
                                        <input type="checkbox" id="apple-pie" value="3.80" name="checkApplePie">
                                        <label for="apple-pie">Apple Pie ($3.80)</label><br>
        
                                        <button class="btn btn-primary full-width" id="btnOrder">Place Order</button>

                                    </div>
                                </div>
                            </div>
                        </div>                
                    </div>
                </div>        
                
                <br>
                <!-- Return link to landing page -->
                <a href="../index.html" class="return-home">Return</a>

            </div>
                <!-- Order Summary card-->
                <div class="card">
                    <div class="card-title">Order Summary</div>
                    <div class="card-content assign-results-text" id="order-total"></div>
                </div>

        </div>

        <script type="module">

            import { Bill, Beverage, Appetizer, MainCourse, Dessert } from "./index.js" // Import classes

            // Register onclick event
            document.getElementById("btnOrder").onclick = function() {
            
                // Bind to input variables
                const beveragesEl = document.getElementById("beverages");
                const beverages = beveragesEl.getElementsByTagName("input");

                const appetizersEl = document.getElementById("appetizers");
                const appetizers = appetizersEl.getElementsByTagName("input");
                
                const mainCoursesEl = document.getElementById("main-courses");
                const mainCourses = mainCoursesEl.getElementsByTagName("input");

                const dessertsEl = document.getElementById("desserts");
                const desserts = dessertsEl.getElementsByTagName("input");

                let bill = new Bill(); // New Bill class

                // Iterate over variables that contain input fields to find total price
                for (let beverage of beverages)
                {
                    if (beverage.checked) {
                        bill.addBeverage(new Beverage(beverage.name, beverage.value))
                    }
                }

                for (let appetizer of appetizers)
                {
                    if (appetizer.checked) {
                        bill.addAppetizer(new Appetizer(appetizer.name, appetizer.value))
                    }
                }

                for (let mainCourse of mainCourses)
                {
                    if (mainCourse.checked) {
                        bill.addMainCourse(new MainCourse(mainCourse.name, mainCourse.value))
                    }
                }

                for (let dessert of desserts)
                {
                    if (dessert.checked) {
                        bill.addDessert(new Appetizer(appetizer.name, appetizer.value))
                    }
                }

                // Bind total values to bill
                let total = bill.getTotal();

                // Output total
                document.getElementById("order-total").innerHTML = "Your order total is " + total;
            }

        </script>
    </body>
</html>